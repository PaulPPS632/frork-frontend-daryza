<div class="container" style="padding: 0px;">

    <div class="Breadcrumb bg-white rounded">
        <nav aria-label="breadcrumb">
          <ol class="breadcrumb">
            <i class="bi bi-house p-2"></i>
            <li class="breadcrumb-item p-2"><a href="admin/dashboard/">Inicio</a></li>
            <li class="breadcrumb-item active p-2" aria-current="page">Gestión de Categorías</li>
          </ol>
        </nav>
    </div>

    <div class="bg-white">
        <div style="display: flex; align-items: center; padding: 10px;">
            <i style="font-size: 25px;"></i>  <!-- class="bi bi-collection"  -->
            <p style="font-size: 24px; line-height: 1.2; margin: 0 0 0 10px;">AGREGAR CATEGORÍA</p>
        </div>  
        <hr>
    </div>    

    <div class="container bg-white">

        <form (ngSubmit)="guardarCategoria()" #categoriaForm="ngForm" style="padding: 15px;">
        
            <div class="mb-3">
                <label for="nombreCategoria" class="form-label">Nombre de la Categoría</label>
                <input type="text" class="form-control" id="nombreCategoria" name="nombreCategoria" required
                       [(ngModel)]="categoria.nombre" #nombreCategoria="ngModel">
            </div>
    
            <!-- Switch para controlar el estado de la categoría -->
            <div class="mb-3">
                <label for="estadoCategoria" class="form-label">Estado</label>
                <div class="form-check form-switch">
                <input class="form-check-input" type="checkbox" role="switch" id="estadoCategoria" [(ngModel)]="categoria.estado" name="estadoCategoria">
                <label class="form-check-label" for="estadoCategoria">{{ categoria.estado ? 'Activo' : 'Inactivo' }}</label>
                </div>
            </div>
    
            <div class="container text-center">
                <button class="text-center full-width me-2" style="padding: 20px;" mat-raised-button color="primary">Guardar</button>
                <button class="full-width" type="reset" style="padding: 20px;" mat-raised-button color="accent" (click)="cancelar()">Cancelar</button>
            </div>
    
        </form>
    
        <br>
    
        <!-- Tabla de categorías -->
        <div class="container">
            <table class="table table-striped table-hover align-middle">
                <thead class="table-dark">
                    <tr>
                        <th scope="col">ID</th>
                        <th scope="col">Nombre</th>
                        <th scope="col">Estado</th>
                        <th scope="col">Fecha Creación</th>
                        <th scope="col">Fecha Actualización</th>
                        <th scope="col">Editar</th>
                        <th scope="col">Eliminar</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let categoria of paginatedCategorias">
                        <td>{{ categoria.id_categoria }}</td>
                        <td>{{ categoria.nombre }}</td>
                        <td>{{ categoria.estado ? 'Activo' : 'Inactivo' }}</td>
                        <td>{{ categoria.created_at }}</td>
                        <td>{{ categoria.update_at }}</td>
                        <td>
                            <button (click)="editarCategoria(categoria.id_categoria!)" class="btn btn-sm me-3" mat-flat-button color="primary">Editar</button>
                        </td>
                        <td>
                            <button (click)="eliminarCategoria(categoria.id_categoria!)" class="btn btn-danger">Eliminar</button>
                        </td>
                    </tr>
                </tbody>
            </table>
    
            <!-- Paginación -->
            <div class="pagination-container">
                <nav *ngIf="totalPages > 1" aria-label="Page navigation example">
                    <ul class="pagination justify-content-end">
                        <li class="page-item" [class.disabled]="currentPage === 1">
                            <button class="page-link" (click)="previousPage()" aria-label="Previous">
                                <span aria-hidden="true">&laquo;</span>
                            </button>
                        </li>
                        <li class="page-item" *ngFor="let page of pages" [class.active]="currentPage === page">
                            <button class="page-link" (click)="irAlaPagina(page)">{{ page }}</button>
                        </li>
                        <li class="page-item" [class.disabled]="currentPage === totalPages">
                            <button class="page-link" (click)="nextPage()" aria-label="Next">
                                <span aria-hidden="true">&raquo;</span>
                            </button>
                        </li>
                    </ul>
                </nav>
                <br>
            </div>
        </div>
    </div>
    
    
</div>
